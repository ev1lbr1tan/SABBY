# Telegram Bot для отслеживания подписок

Этот бот позволяет отслеживать ваши подписки на различные сервисы, включая стоимость и дату обновления.

## Основные функции

- Добавление подписок с указанием названия сервиса, стоимости и даты обновления
- Просмотр списка всех подписок
- Удаление подписок
- Подсчет общей стоимости всех подписок
- Ежедневные уведомления о предстоящих платежах

## Команды

- `/start` - Начало работы с ботом
- `/add` - Добавить новую подписку
- `/list` - Показать все подписки
- `/delete` - Удалить подписку
- `/total` - Показать общую сумму расходов
- `/help` - Показать справку

## Установка и запуск

1. Установите зависимости:
   ```
   pip install -r requirements.txt
   ```

2. Получите токен у [@BotFather](https://t.me/BotFather) в Telegram

3. Установите токен как переменную окружения:
   ```
   export TELEGRAM_BOT_TOKEN='ваш_токен'
   ```

4. Запустите бота:
   ```
   python bot.py
   ```

## Развертывание на Railway

1. Создайте аккаунт на [Railway](https://railway.app/)

2. Создайте новый проект

3. Подключите репозиторий с ботом или загрузите файлы напрямую

4. Установите переменную окружения `TELEGRAM_BOT_TOKEN` в настройках проекта

5. Railway автоматически запустит бота при деплое

## Структура базы данных

Для каждого пользователя создается отдельный файл базы данных SQLite:
`user_{user_id}.db`

Таблица `subscriptions` содержит следующие поля:
- `id` - уникальный идентификатор подписки
- `service_name` - название сервиса
- `cost` - стоимость подписки
- `renewal_date` - дата обновления подписки

## Уведомления

Бот отправляет ежедневные уведомления о предстоящих платежах в 9:00 UTC.
Уведомления приходят за 7 дней до даты обновления подписки.