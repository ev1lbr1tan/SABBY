# Развертывание Telegram бота на Railway

## Шаг 1: Подготовка проекта

Убедитесь, что у вас есть следующие файлы в вашем проекте:
- `bot.py` - основной файл бота
- `requirements.txt` - зависимости
- `railway.toml` - конфигурация Railway
- `README.md` - документация

## Шаг 2: Создание аккаунта Railway

1. Перейдите на [railway.app](https://railway.app/)
2. Зарегистрируйтесь или войдите в существующий аккаунт
3. Подтвердите ваш email, если это необходимо

## Шаг 3: Создание нового проекта

1. Нажмите кнопку "New Project"
2. Выберите способ развертывания:
   - Если ваш код находится в GitHub репозитории, подключите его
   - Если вы хотите загрузить файлы напрямую, выберите "Deploy from source"

## Шаг 4: Настройка переменных окружения

1. Перейдите в настройки проекта (Settings)
2. Найдите раздел "Variables"
3. Добавьте переменную:
   - Name: `TELEGRAM_BOT_TOKEN`
   - Value: Ваш токен Telegram бота (полученный у @BotFather)

## Шаг 5: Конфигурация развертывания

Railway автоматически использует файл `railway.toml` для конфигурации:
```toml
[build]
builder = "nixpacks"

[deploy]
startCommand = "python bot.py"
restartPolicyType = "always"
restartPolicyMaxRetries = 3
```

## Шаг 6: Запуск бота

1. После настройки Railway автоматически начнет развертывание
2. Вы можете отслеживать процесс в логах (Logs)
3. После успешного развертывания бот будет запущен и готов к использованию

## Шаг 7: Мониторинг и управление

- Используйте вкладку "Logs" для просмотра логов работы бота
- При необходимости перезапустите приложение через "Restart" в настройках
- Для обновления бота просто обновите код в репозитории (если подключено) или загрузите новые файлы

## Особенности работы на Railway

1. Railway автоматически управляет перезапуском приложения при сбоях
2. Бесплатный уровень предоставляет 512 MB RAM и 1 GB дискового пространства
3. Приложения могут "усыпляться" при отсутствии активности, но Railway автоматически их пробуждает
4. Для постоянной работы уведомлений используется APScheduler, который работает в фоновом режиме
5. **Совместимость**: Бот протестирован и совместим с MySQL 9.4 (версия, установленная на Railway)

## Устранение неполадок

- Если бот не отвечает, проверьте логи на наличие ошибок
- Убедитесь, что переменная окружения `TELEGRAM_BOT_TOKEN` установлена правильно
- Проверьте, что все зависимости из `requirements.txt` установлены корректно